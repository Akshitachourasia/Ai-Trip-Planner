import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = 'AIzaSyBc7KNBMChgCG4H9wRwrv78XoEaJXipf7U';
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  // safetySettings: Adjust safety settings
  // See https://ai.google.dev/gemini-api/docs/safety-settings
  history: [
    {
      role: "user",
      parts: [
        { text: "Generate Travel Plan for Location: London , for 2 days for 1 with Cheap budget , give me atleast 4 Hotels option list with Hotelname , hotel address , price , hotel image url , geocoordinates, rating, descriptions and suggest itinerary with placeName , place details, place image url , geo coordinates , proper ticket pricing , rating , time travel each of the location for 3 days with each day plan with best time to visit in JSON format. " },
      ],
    },
    {
      role: "model",
      parts: [
        {text: "```json\n{\n  \"location\": \"London\",\n  \"duration\": \"2 days\",\n  \"travelers\": 1,\n  \"budget\": \"cheap\",\n  \"hotels\": [\n    {\n      \"name\": \"The London Backpackers\",\n      \"address\": \"28-30 Earlham St, Covent Garden, London WC2H 9LL, United Kingdom\",\n      \"price\": \"£20-£30 per night\",\n      \"imageUrl\": \"https://www.thelondonbackpackers.com/images/gallery/london-backpackers-hostel-london-covent-garden-1.jpg\",\n      \"geocoordinates\": \"51.5117,-0.1246\",\n      \"rating\": \"4.0 stars\",\n      \"description\": \"A centrally located hostel with shared rooms and private rooms available.  Offers a communal kitchen and lounge area.\"\n    },\n    {\n      \"name\": \"Generator London\",\n      \"address\": \"10-14 Tavistock Pl, Bloomsbury, London WC1H 9SN, United Kingdom\",\n      \"price\": \"£35-£50 per night\",\n      \"imageUrl\": \"https://images.squarespace-cdn.com/content/v1/56896125e4b03217283f3760/1571669568636-3P659T7X3Q7K70R27B9Y/ke17ZwdGBToddI8pDm48kLkXF2gP_ia978AgO26Mw0UqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhLifeaY2iN8-o4MdjK2-BcJ_l9c7fq-yL7-w5q-X-w6x32_s20gN48R4yM61xI-bF8c/Generator+London+Hostel+Exterior.jpg\",\n      \"geocoordinates\": \"51.5222,-0.1259\",\n      \"rating\": \"4.5 stars\",\n      \"description\": \"A modern hostel with a variety of room options, including private rooms, dorm rooms, and social spaces.\"\n    },\n    {\n      \"name\": \"St. Christopher's Inn - London Bridge\",\n      \"address\": \"13-14 Borough High St, London SE1 1AA, United Kingdom\",\n      \"price\": \"£25-£40 per night\",\n      \"imageUrl\": \"https://www.stchristophersinns.co.uk/londonbridge/images/gallery/london-bridge-hostel-london-room-235954.jpg\",\n      \"geocoordinates\": \"51.5059,-0.0931\",\n      \"rating\": \"4.0 stars\",\n      \"description\": \"A budget-friendly hostel with a great location near Borough Market and the London Bridge.\"\n    },\n    {\n      \"name\": \"The YHA London Central\",\n      \"address\": \"140-142 Great Eastern St, Shoreditch, London EC2A 3EJ, United Kingdom\",\n      \"price\": \"£30-£45 per night\",\n      \"imageUrl\": \"https://www.yha.org.uk/media/images/hostels/london-central/london-central-exterior-view-of-hostel.jpg\",\n      \"geocoordinates\": \"51.5225,-0.0768\",\n      \"rating\": \"4.5 stars\",\n      \"description\": \"A well-equipped hostel with a central location close to Shoreditch and the City of London.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"title\": \"Classic London Landmarks\",\n      \"description\": \"Explore iconic landmarks and enjoy a taste of London's history.\",\n      \"schedule\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"placeName\": \"Buckingham Palace\",\n          \"placeDetails\": \"Witness the Changing of the Guard ceremony (occurs daily at 11:00 AM, check website for details) and take photos of the iconic palace.\",\n          \"placeImageUrl\": \"https://www.royal.uk/sites/default/files/styles/hero_image/public/2021-08/Buckingham-Palace-Exterior.jpg\",\n          \"geocoordinates\": \"51.5014,-0.1419\",\n          \"ticketPricing\": \"Free (for the Changing of the Guard), Palace tours start at £25\",\n          \"rating\": \"5.0 stars\",\n          \"timeTravel\": \"2 hours\"\n        },\n        {\n          \"time\": \"12:00 PM\",\n          \"placeName\": \"Tower of London\",\n          \"placeDetails\": \"Explore the historic castle, learn about its gruesome history, and see the Crown Jewels.\",\n          \"placeImageUrl\": \"https://www.visitlondon.com/london-attractions/tower-of-london/images/tower-of-london-1.jpg\",\n          \"geocoordinates\": \"51.5073,-0.0761\",\n          \"ticketPricing\": \"Adult tickets start at £30\",\n          \"rating\": \"4.5 stars\",\n          \"timeTravel\": \"3 hours\"\n        },\n        {\n          \"time\": \"3:00 PM\",\n          \"placeName\": \"Tower Bridge\",\n          \"placeDetails\": \"Walk across the iconic bridge, enjoy the views of the River Thames, and learn about its history in the exhibition.\",\n          \"placeImageUrl\": \"https://www.visitlondon.com/london-attractions/tower-bridge/images/tower-bridge-1.jpg\",\n          \"geocoordinates\": \"51.5033,-0.0801\",\n          \"ticketPricing\": \"Adult tickets start at £11\",\n          \"rating\": \"4.5 stars\",\n          \"timeTravel\": \"1 hour\"\n        },\n        {\n          \"time\": \"5:00 PM\",\n          \"placeName\": \"Shakespeare's Globe Theatre\",\n          \"placeDetails\": \"Visit the reconstruction of Shakespeare's Globe Theatre, take a tour, and enjoy a performance (if you're lucky!).\",\n          \"placeImageUrl\": \"https://www.shakespearesglobe.com/sites/default/files/styles/large_image_square/public/images/2022-02/globe_exterior_2022_02_21_0052_2526_jpg.jpg?itok=j5b6bT1k\",\n          \"geocoordinates\": \"51.5061,-0.1066\",\n          \"ticketPricing\": \"Tours start at £10, performances vary in price.\",\n          \"rating\": \"4.0 stars\",\n          \"timeTravel\": \"1 hour\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"title\": \"Free London\",\n      \"description\": \"Enjoy free attractions and explore different neighborhoods.\",\n      \"schedule\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"placeName\": \"Hyde Park\",\n          \"placeDetails\": \"Enjoy a relaxing walk, rent a boat on the Serpentine Lake, or visit the Diana, Princess of Wales Memorial Fountain.\",\n          \"placeImageUrl\": \"https://www.visitlondon.com/london-attractions/hyde-park/images/hyde-park-1.jpg\",\n          \"geocoordinates\": \"51.5074,-0.1677\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": \"4.5 stars\",\n          \"timeTravel\": \"3 hours\"\n        },\n        {\n          \"time\": \"1:00 PM\",\n          \"placeName\": \"Borough Market\",\n          \"placeDetails\": \"Experience London's famous food market, grab lunch from a variety of stalls, and try delicious street food.\",\n          \"placeImageUrl\": \"https://www.visitlondon.com/london-attractions/borough-market/images/borough-market-1.jpg\",\n          \"geocoordinates\": \"51.5031,-0.0932\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": \"4.5 stars\",\n          \"timeTravel\": \"2 hours\"\n        },\n        {\n          \"time\": \"3:00 PM\",\n          \"placeName\": \"Camden Town\",\n          \"placeDetails\": \"Explore this vibrant and alternative neighborhood, browse the market stalls, and enjoy the street performers.\",\n          \"placeImageUrl\": \"https://www.visitlondon.com/london-attractions/camden-town/images/camden-market-1.jpg\",\n          \"geocoordinates\": \"51.5336,-0.1330\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": \"4.0 stars\",\n          \"timeTravel\": \"2 hours\"\n        },\n        {\n          \"time\": \"5:00 PM\",\n          \"placeName\": \"South Bank\",\n          \"placeDetails\": \"Enjoy the views of the River Thames, watch street performers, and relax in the open-air spaces.\",\n          \"placeImageUrl\": \"https://www.visitlondon.com/london-attractions/south-bank/images/south-bank-1.jpg\",\n          \"geocoordinates\": \"51.5005,-0.1169\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": \"4.5 stars\",\n          \"timeTravel\": \"1 hour\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* This itinerary is just a suggestion, feel free to adjust it based on your interests and preferences.\n* Hotel prices are approximate and may vary depending on the season and availability.\n* You can find more information and booking details for hotels and attractions on their websites.\n* London has a comprehensive public transportation system, including the London Underground (Tube) and buses, which can be used to reach most attractions.\n\n**Tips for a cheap trip:**\n\n* Travel during the off-season (shoulder seasons, spring and fall).\n* Book accommodation and attractions in advance to get the best prices.\n* Take advantage of free attractions and activities.\n* Pack light to avoid baggage fees.\n* Use public transportation instead of taxis.\n* Eat at local restaurants and markets.\n* Don't be afraid to ask for discounts and deals.\n* Look for free walking tours.\n\nHave a great trip to London!\n"},
      ],
    },
  ],
});




